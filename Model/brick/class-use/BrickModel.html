<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BrickModel Interactive Viewer</title>
  <style>
    :root {
      --bg-color: #ffffff;
      --text-color: #222;
      --card-bg: #f4f4f4;
      --accent: #4caf50;
    }
    [data-theme="dark"] {
      --bg-color: #1e1e1e;
      --text-color: #e0e0e0;
      --card-bg: #2a2a2a;
      --accent: #64ffda;
    }
    body {
      font-family: "Segoe UI", sans-serif;
      background: var(--bg-color);
      color: var(--text-color);
      margin: 0;
      padding: 0;
      transition: background 0.3s, color 0.3s;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background: var(--card-bg);
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    header h1 {
      margin: 0;
      font-size: 1.5rem;
      color: var(--accent);
    }
    #themeToggle {
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 8px;
      background: var(--accent);
      color: #fff;
      cursor: pointer;
      font-weight: 600;
    }
    main {
      padding: 2rem;
      text-align: center;
    }
    .controls {
      margin-bottom: 1.5rem;
    }
    .controls input {
      padding: 0.5rem;
      width: 250px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    .controls button {
      margin-left: 0.5rem;
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 6px;
      background: var(--accent);
      color: white;
      cursor: pointer;
      font-weight: 600;
    }
    .brick-container {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
    }
    .brick {
      width: 100px;
      height: 50px;
      background: tomato;
      border: 4px solid #b71c1c;
      border-radius: 6px;
      position: relative;
      cursor: pointer;
      transition: transform 0.2s, opacity 0.3s;
    }
    .brick:hover {
      transform: scale(1.05);
    }
    .brick-info {
      position: absolute;
      top: -35px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--card-bg);
      color: var(--text-color);
      padding: 3px 8px;
      border-radius: 5px;
      font-size: 0.8rem;
      display: none;
    }
    .brick:hover .brick-info {
      display: block;
    }
  </style>
</head>
<body>
  <header>
    <h1>BrickModel Interactive Viewer</h1>
    <button id="themeToggle"> Dark Mode</button>
  </header>
  <main>
    <div class="controls">
      <input type="text" id="searchInput" placeholder="Search brick by name or color..." />
      <button id="resetBtn">Reset</button>
      <button id="randomBtn">Randomize</button>
    </div>

    <div class="brick-container" id="brickContainer"></div>
  </main>

  <script>
    const brickContainer = document.getElementById("brickContainer");
    const themeToggle = document.getElementById("themeToggle");
    const searchInput = document.getElementById("searchInput");
    const resetBtn = document.getElementById("resetBtn");
    const randomBtn = document.getElementById("randomBtn");

    const brickData = [
      { name: "RubyBrick", color: "tomato", border: "#b71c1c", strength: 3 },
      { name: "EmeraldBrick", color: "mediumseagreen", border: "#00695c", strength: 4 },
      { name: "SapphireBrick", color: "dodgerblue", border: "#0d47a1", strength: 2 },
      { name: "GoldenBrick", color: "gold", border: "#ffb300", strength: 5 },
      { name: "AmethystBrick", color: "orchid", border: "#6a1b9a", strength: 3 }
    ];

    let currentBricks = [...brickData];

    function renderBricks() {
      brickContainer.innerHTML = "";
      currentBricks.forEach((brick, index) => {
        const div = document.createElement("div");
        div.className = "brick";
        div.style.background = brick.color;
        div.style.borderColor = brick.border;
        div.dataset.name = brick.name;
        div.dataset.color = brick.color;

        const info = document.createElement("div");
        info.className = "brick-info";
        info.textContent = `${brick.name} (${brick.strength})`;
        div.appendChild(info);

        div.onclick = () => {
          if (brick.strength > 0) {
            brick.strength--;
            info.textContent = `${brick.name} (${brick.strength})`;
            div.style.opacity = 0.5 + brick.strength / 5;
          } else {
            info.textContent = `${brick.name} (Broken ðŸ’”)`;
            div.style.opacity = 0.3;
          }
        };
        brickContainer.appendChild(div);
      });
    }

    renderBricks();

    // Theme toggle
    themeToggle.onclick = () => {
      const isDark = document.body.getAttribute("data-theme") === "dark";
      document.body.setAttribute("data-theme", isDark ? "light" : "dark");
      themeToggle.textContent = isDark ? "ðŸŒ™ Dark Mode" : "â˜€ï¸ Light Mode";
    };

    // Search feature
    searchInput.addEventListener("input", (e) => {
      const q = e.target.value.toLowerCase();
      currentBricks = brickData.filter(
        (b) =>
          b.name.toLowerCase().includes(q) ||
          b.color.toLowerCase().includes(q)
      );
      renderBricks();
    });

    // Reset button
    resetBtn.onclick = () => {
      currentBricks = JSON.parse(JSON.stringify(brickData));
      renderBricks();
    };

    // Randomize bricks
    randomBtn.onclick = () => {
      currentBricks.forEach((b) => {
        b.strength = Math.floor(Math.random() * 5) + 1;
        b.color = "#" + Math.floor(Math.random() * 16777215).toString(16);
      });
      renderBricks();
    };
  </script>
</body>
</html>
